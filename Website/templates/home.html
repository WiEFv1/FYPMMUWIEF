{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block content %}
<h1 align="center">Notes</h1>
<ul class="list-group list-group-flush" id="notes">
  {% for note in user.notes %}
  <li class="list-group-item">
    {{ note.data }}
    <button type="button" class="close" onClick="deleteNote({{ note.id }})">
      <span aria-hidden="true">&times;</span>
    </button>
  </li>
  {% endfor %}
</ul>

{% for projecttable in user.project_tables %}
<h2>{{ projecttable.name }}</h2>
<p>{{ projecttable.description }}</p>
<table class="table table-striped table-bordered table-hover table-sm">
  <thead class="thead-dark">
    <tr>
      <th>Task</th>
      <th>Status</th>
      <th>Deadline</th>
      <th>Description</th>
      <th>Comments</th>
    </tr>
  </thead>
  <tbody>
    {% for task in projecttable.tasks %}
      <tr>
        <td>{{ task.task_name }}</td>
        <td>{{ task.task_status }}</td>
        <td>{{ task.deadline }}</td>
        <td>{{ task.description }}</td>
        <td>
          {% for comment in task.comments %}
            <p>{{ comment.comment_detail }}</p>
          {% endfor %}
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endfor %}

<form method="POST">
  <textarea name="note" id="note" class="form-control"></textarea>
  <br />
  <div align="center">
    <button type="submit" class="btn btn-primary" name="add_note">Add Note</button>
  </div>
</form>

<form method="POST">
  <div align="center">
    <button type="submit" class="btn btn-primary" name="create_table">Create Table</button>
  </div>
</form>

<style>
  body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }
  table {
    border-collapse: collapse;
    margin: 10px 0;
    width: 80%;
  }
  table, th, td {
    border: 1px solid black;
  }
  th, td {
    padding: 8px;
    text-align: center;
  }
  button {
    padding: 10px 20px;
    font-size: 16px;
    margin-bottom: 20px;
  }
</style>

{% endblock %}
